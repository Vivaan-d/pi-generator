<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>π generator</title>
</head>
<body style="word-wrap: break-word;">
    <b>π =</b>
    <p></p>
    <script>function* piGenerator() {
        let q = 1n, r = 180n, t = 60n, i = 2n;
        while (true) {
          let y = (q * (27n * i - 12n) + r) / (5n * t);
          yield y; // Yield the next digit
          r = (r - t * y) * 10n;
          q *= 10n;
          t *= 10n;
          i += 1n;
        }
      }
      
      const generator = piGenerator();
      let piDigits = "3."; // Initialize with the correct starting sequence
      let skipFirstDigit = true; // Skip the first digit (3) if necessary
      
      setInterval(() => {
        const nextDigit = generator.next().value;
        if (skipFirstDigit) {
          skipFirstDigit = false; // Skip the initial 3
          return;
        }
        piDigits += nextDigit; // Append the next digit
        console.log(piDigits); // Display the growing sequence of π digits
        document.querySelector("p").innerHTML=piDigits
      }, 10);
      

    </script>
</body>
</html>